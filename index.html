<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Semester Week Tracker</title>
    <link rel="stylesheet" href="semester-week-widget.css">
</head>
<body>
    <div class="week-widget-container">
        <div class="week-widget">
            <div class="week-label">Week</div>
            <div id="weekNumber" class="week-number">4</div>
        </div>
    </div>

    <script>
        function updateWeekNumber() {
            // Semester start date (Year, Month, Day) — Month is 0-indexed
            const startDate = new Date(2025, 6, 28); // July 28, 2025

            // Mid-semester break start date
            const breakStartDate = new Date(2025, 8, 8); // September 8, 2025
            const breakLengthWeeks = 1; // duration in weeks

            const currentDate = new Date();
            const millisecondsPerWeek = 7 * 24 * 60 * 60 * 1000;

            // Calculate when the break ends
            const breakEndDate = new Date(breakStartDate.getTime() + (breakLengthWeeks * millisecondsPerWeek));

            // If we’re in the break week, show "Break"
            if (currentDate >= breakStartDate && currentDate < breakEndDate) {
                document.getElementById('weekNumber').textContent = "🏝️";
                return;
            }

            // Weeks elapsed since semester start
            let weekElapsed = Math.floor((currentDate - startDate) / millisecondsPerWeek) + 1;

            // If we're after the break, subtract the break length
            if (currentDate >= breakEndDate) {
                weekElapsed -= breakLengthWeeks;
            }

            // Clamp to minimum of 1
            weekElapsed = Math.max(1, weekElapsed);

            document.getElementById('weekNumber').textContent = weekElapsed;
        }

        updateWeekNumber();
    </script>
</body>
</html>
